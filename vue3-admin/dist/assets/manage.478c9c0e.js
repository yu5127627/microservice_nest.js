import{d as q,a as E,r as c,a7 as h,a8 as w,a9 as B,aa as V,ab as z,f as L,ac as $,o as f,b as I,m as d,e as a,w as o,B as P,k as T,G as r,a5 as M,a4 as U,q as A}from"./vendor.9e830f57.js";import{M as N,e as S,o as j,h as G}from"./manageDialog.49e924d4.js";import{_ as R,g as H}from"./index.a7f87fd0.js";import"./index.8d87168f.js";const J=q({name:"Manage",components:{manageDialog:N},setup(){let e=E(),l=c({visible:!1,title:"",data:{}}),n=c({data:[],load:!1,query:{page:1,limit:15,total:0,nickname:"",username:""}});const u=async()=>{n.load=!0;const{code:_,result:m}=await H(n.query);n.data=m.rows,n.query.total=m.total,n.load=!1};return u(),S.on("list-reload",()=>{u()}),{list:n,form:e,dialogData:l,getList:u,openDialog:j,handleDelete:G}}}),K={class:"page-main"},O={class:"operate-box"},Q={class:"operate-btns"},W=r("\u65B0\u589E"),X={class:"filter-box"},Y=r("\u641C\u7D22"),Z=r("\u91CD\u7F6E"),x=r("\u7F16\u8F91"),ee=r("\u5220\u9664"),ae={class:"pagination"};function le(e,l,n,u,_,m){const s=M,g=U,p=h,C=w,i=B,b=A,y=V,v=z,k=L("manage-dialog"),D=$;return f(),I("div",K,[d("div",O,[d("div",Q,[a(s,{type:"primary",onClick:l[0]||(l[0]=t=>e.openDialog(e.dialogData,"\u65B0\u589E\u7BA1\u7406\u5458"))},{default:o(()=>[W]),_:1})]),a(s,{type:"primary",icon:"Refresh",onClick:l[1]||(l[1]=()=>{e.form.resetFields(),e.getList()})})]),d("div",X,[a(C,{ref:"form",class:"filter-form",model:e.list.query,"label-width":"80px",inline:""},{default:o(()=>[a(p,{label:"\u6635\u79F0",prop:"nickname"},{default:o(()=>[a(g,{modelValue:e.list.query.nickname,"onUpdate:modelValue":l[2]||(l[2]=t=>e.list.query.nickname=t)},null,8,["modelValue"])]),_:1}),a(p,{label:"\u7528\u6237\u540D",prop:"username"},{default:o(()=>[a(g,{modelValue:e.list.query.username,"onUpdate:modelValue":l[3]||(l[3]=t=>e.list.query.username=t)},null,8,["modelValue"])]),_:1}),a(p,null,{default:o(()=>[a(s,{type:"primary",onClick:e.getList},{default:o(()=>[Y]),_:1},8,["onClick"]),a(s,{type:"primary",onClick:l[4]||(l[4]=()=>{e.form.resetFields()})},{default:o(()=>[Z]),_:1})]),_:1})]),_:1},8,["model"])]),P((f(),T(y,{data:e.list.data,border:"",size:"small"},{default:o(()=>[a(i,{prop:"id",label:"ID",width:"60",align:"center"}),a(i,{prop:"username",label:"\u7528\u6237\u540D",align:"center"}),a(i,{prop:"nickname",label:"\u6635\u79F0",align:"center"}),a(i,{prop:"avatar",label:"\u5934\u50CF",align:"center"},{default:o(t=>[a(b,{src:t.row.avatar,style:{width:"40px"}},null,8,["src"])]),_:1}),a(i,{prop:"roleId",label:"\u89D2\u8272",align:"center"}),a(i,{prop:"ctime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),a(i,{label:"\u64CD\u4F5C",align:"center"},{default:o(t=>[a(s,{onClick:F=>e.openDialog(e.dialogData,"\u7F16\u8F91\u7BA1\u7406\u5458",t.row)},{default:o(()=>[x]),_:2},1032,["onClick"]),a(s,{type:"danger",onClick:F=>e.handleDelete([t.row.id],"manage")},{default:o(()=>[ee]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[D,e.list.load]]),d("div",ae,[a(v,{currentPage:e.list.query.page,"onUpdate:currentPage":l[5]||(l[5]=t=>e.list.query.page=t),"page-size":e.list.query.limit,"onUpdate:page-size":l[6]||(l[6]=t=>e.list.query.limit=t),"page-sizes":[15,20,50,100],small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.list.query.total,onSizeChange:e.getList,onCurrentChange:e.getList},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),a(k,{"dialog-data":e.dialogData},null,8,["dialog-data"])])}var se=R(J,[["render",le]]);export{se as default};
//# sourceMappingURL=manage.478c9c0e.js.map
