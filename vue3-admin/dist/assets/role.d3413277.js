import{d as E,a as B,r as g,a9 as w,aa as V,ab as z,ac as $,ad as L,f as C,ae as A,o as f,b as P,m as p,e as a,w as l,C as N,k as v,l as U,H as r,a8 as I,a7 as R}from"./vendor.5eaa8c15.js";/* empty css                   *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    *//* empty css                     */import{r as T,_ as S}from"./index.8a998ac7.js";import{e as j,o as H,h as G}from"./base.ecad37f9.js";import J from"./roleDialog.6edc213e.js";import K from"./authDialog.716b906e.js";/* empty css                  *//* empty css                */const M=e=>T({method:"get",url:"/api/v1/role",data:e}),O=E({name:"Role",components:{RoleDialog:J,AuthDialog:K},setup(){let e=B(),t=g({visible:!1,title:"",data:{}}),_=g({visible:!1,title:"",data:{}}),n=g({data:[],load:!1,query:{page:1,limit:15,total:0,name:"",level:""}});const u=async()=>{try{n.load=!0;const{code:d,result:i}=await M(n.query);n.data=i.rows,n.query.total=i.total,n.load=!1}catch{n.load=!1}};return u(),j.on("list-reload",d=>{d==="role"&&u()}),{list:n,form:e,dialogData:t,authData:_,getList:u,openDialog:H,handleDelete:G}}}),Q={class:"page-main"},W={class:"operate-box"},X={class:"operate-btns"},Y=r("\u65B0\u589E"),Z={class:"filter-box"},x=r("\u641C\u7D22"),ee=r("\u91CD\u7F6E"),ae=r("\u6743\u9650\u7BA1\u7406"),te=r("\u7F16\u8F91"),oe=r("\u5220\u9664"),le={class:"pagination"};function ie(e,t,_,n,u,d){const i=I,c=R,m=w,D=V,s=z,b=$,h=L,k=C("role-dialog"),q=C("auth-dialog"),F=A;return f(),P("div",Q,[p("div",W,[p("div",X,[a(i,{type:"primary",onClick:t[0]||(t[0]=o=>e.openDialog(e.dialogData,"\u65B0\u589E\u89D2\u8272"))},{default:l(()=>[Y]),_:1})]),a(i,{type:"primary",icon:"Refresh",onClick:t[1]||(t[1]=()=>{e.form.resetFields(),e.getList()})})]),p("div",Z,[a(D,{ref:"form",class:"filter-form",model:e.list.query,"label-width":"80px",inline:""},{default:l(()=>[a(m,{label:"\u540D\u79F0",prop:"name"},{default:l(()=>[a(c,{modelValue:e.list.query.name,"onUpdate:modelValue":t[2]||(t[2]=o=>e.list.query.name=o)},null,8,["modelValue"])]),_:1}),a(m,{label:"\u7EA7\u522B",prop:"level"},{default:l(()=>[a(c,{modelValue:e.list.query.level,"onUpdate:modelValue":t[3]||(t[3]=o=>e.list.query.level=o)},null,8,["modelValue"])]),_:1}),a(m,null,{default:l(()=>[a(i,{type:"primary",onClick:e.getList},{default:l(()=>[x]),_:1},8,["onClick"]),a(i,{type:"primary",onClick:t[4]||(t[4]=()=>{e.form.resetFields()})},{default:l(()=>[ee]),_:1})]),_:1})]),_:1},8,["model"])]),N((f(),v(b,{data:e.list.data,border:"",size:"small"},{default:l(()=>[a(s,{prop:"id",label:"ID",width:"60",align:"center"}),a(s,{prop:"name",label:"\u540D\u79F0",align:"center"}),a(s,{prop:"description",label:"\u63CF\u8FF0",align:"center"}),a(s,{prop:"level",label:"\u7EA7\u522B",align:"center"}),a(s,{label:"\u64CD\u4F5C",align:"center"},{default:l(o=>[a(i,{type:"primary",onClick:y=>e.openDialog(e.authData,"\u6743\u9650\u7BA1\u7406",o.row)},{default:l(()=>[ae]),_:2},1032,["onClick"]),a(i,{onClick:y=>e.openDialog(e.dialogData,"\u7F16\u8F91\u89D2\u8272",o.row)},{default:l(()=>[te]),_:2},1032,["onClick"]),a(i,{type:"danger",onClick:y=>e.handleDelete([o.row.id],"role")},{default:l(()=>[oe]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[F,e.list.load]]),p("div",le,[a(h,{currentPage:e.list.query.page,"onUpdate:currentPage":t[5]||(t[5]=o=>e.list.query.page=o),"page-size":e.list.query.limit,"onUpdate:page-size":t[6]||(t[6]=o=>e.list.query.limit=o),"page-sizes":[15,20,50,100],small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.list.query.total,onSizeChange:e.getList,onCurrentChange:e.getList},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),a(k,{"dialog-data":e.dialogData},null,8,["dialog-data"]),e.authData.visible?(f(),v(q,{key:0,"dialog-data":e.authData},null,8,["dialog-data"])):U("",!0)])}var De=S(O,[["render",ie]]);export{De as default};
//# sourceMappingURL=role.d3413277.js.map
