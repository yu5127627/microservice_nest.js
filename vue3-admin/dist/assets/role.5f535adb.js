import{d as F,a as k,r as _,a7 as E,a8 as h,a9 as B,aa as w,ab as V,f as z,ac as $,o as c,b as L,m as p,e as o,w as a,B as P,k as U,G as s,a6 as I,a5 as N}from"./vendor.4a9810fe.js";/* empty css                   *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    */import{e as R,o as T,h as A}from"./base.9d953e07.js";import{r as S,_ as j}from"./index.c8841313.js";import G from"./roleDialog.54ddd540.js";/* empty css                  */const H=e=>S({method:"get",url:"/api/v1/role",data:e}),J=F({name:"Role",components:{roleDialog:G},setup(){let e=k(),l=_({visible:!1,title:"",data:{}}),n=_({data:[],load:!1,query:{page:1,limit:15,total:0,name:"",level:""}});const u=async()=>{try{n.load=!0;const{code:d,result:m}=await H(n.query);n.data=m.rows,n.query.total=m.total,n.load=!1}catch{n.load=!1}};return u(),R.on("list-reload",d=>{d==="role"&&u()}),{list:n,form:e,dialogData:l,getList:u,openDialog:T,handleDelete:A}}}),K={class:"page-main"},M={class:"operate-box"},O={class:"operate-btns"},Q=s("\u65B0\u589E"),W={class:"filter-box"},X=s("\u641C\u7D22"),Y=s("\u91CD\u7F6E"),Z=s("\u7F16\u8F91"),x=s("\u5220\u9664"),ee={class:"pagination"};function oe(e,l,n,u,d,m){const i=I,f=N,g=E,y=h,r=B,C=w,v=V,b=z("role-dialog"),D=$;return c(),L("div",K,[p("div",M,[p("div",O,[o(i,{type:"primary",onClick:l[0]||(l[0]=t=>e.openDialog(e.dialogData,"\u65B0\u589E\u89D2\u8272"))},{default:a(()=>[Q]),_:1})]),o(i,{type:"primary",icon:"Refresh",onClick:l[1]||(l[1]=()=>{e.form.resetFields(),e.getList()})})]),p("div",W,[o(y,{ref:"form",class:"filter-form",model:e.list.query,"label-width":"80px",inline:""},{default:a(()=>[o(g,{label:"\u540D\u79F0",prop:"name"},{default:a(()=>[o(f,{modelValue:e.list.query.name,"onUpdate:modelValue":l[2]||(l[2]=t=>e.list.query.name=t)},null,8,["modelValue"])]),_:1}),o(g,{label:"\u7EA7\u522B",prop:"level"},{default:a(()=>[o(f,{modelValue:e.list.query.level,"onUpdate:modelValue":l[3]||(l[3]=t=>e.list.query.level=t)},null,8,["modelValue"])]),_:1}),o(g,null,{default:a(()=>[o(i,{type:"primary",onClick:e.getList},{default:a(()=>[X]),_:1},8,["onClick"]),o(i,{type:"primary",onClick:l[4]||(l[4]=()=>{e.form.resetFields()})},{default:a(()=>[Y]),_:1})]),_:1})]),_:1},8,["model"])]),P((c(),U(C,{data:e.list.data,border:"",size:"small"},{default:a(()=>[o(r,{prop:"id",label:"ID",width:"60",align:"center"}),o(r,{prop:"name",label:"\u540D\u79F0",align:"center"}),o(r,{prop:"description",label:"\u63CF\u8FF0",align:"center"}),o(r,{prop:"level",label:"\u7EA7\u522B",align:"center"}),o(r,{label:"\u64CD\u4F5C",align:"center"},{default:a(t=>[o(i,{onClick:q=>e.openDialog(e.dialogData,"\u7F16\u8F91\u89D2\u8272",t.row)},{default:a(()=>[Z]),_:2},1032,["onClick"]),o(i,{type:"danger",onClick:q=>e.handleDelete([t.row.id],"role")},{default:a(()=>[x]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[D,e.list.load]]),p("div",ee,[o(v,{currentPage:e.list.query.page,"onUpdate:currentPage":l[5]||(l[5]=t=>e.list.query.page=t),"page-size":e.list.query.limit,"onUpdate:page-size":l[6]||(l[6]=t=>e.list.query.limit=t),"page-sizes":[15,20,50,100],small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.list.query.total,onSizeChange:e.getList,onCurrentChange:e.getList},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),o(b,{"dialog-data":e.dialogData},null,8,["dialog-data"])])}var ge=j(J,[["render",oe]]);export{ge as default};
//# sourceMappingURL=role.5f535adb.js.map
