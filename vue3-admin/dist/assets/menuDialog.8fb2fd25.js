import{d as h,r as F,aF as B,av as U,a9 as v,ak as N,aj as M,aa as c,al as $,o as m,k as i,w as t,m as _,e as l,l as p,H as r,a7 as w,a8 as S}from"./vendor.628a587a.js";/* empty css                  *//* empty css                     *//* empty css                *//* empty css                    *//* empty css                        *//* empty css                       */import{a as I}from"./base.cbd3d2de.js";import{_ as R,d as j,g as A}from"./index.6b964819.js";import{l as L}from"./lodash.6a43960b.js";const T={type:0,icon:"",cache:!1,hide:!1,title:"",action:"",url:"",sort:99,name:"",path:"",pid:0},G=h({name:"MenuDialog",components:{},props:{dialogData:{type:Object,default:()=>({visible:!1,title:"",data:{}})}},setup(e){let a=F(e.dialogData);e.dialogData.type==="create"&&(a.data=L.exports.cloneDeep(T));const y=j();let D=F([]);return(async()=>{try{let{code:d,result:f}=await A({attrs:"id,pid,title,type"});f.sort((n,b)=>n.sort-b.sort);let u=f.filter(n=>n.pid===0&&n.type<2),s=f.filter(n=>n.type<2);for(const n of u)y.deepMergeMenu(n,s);const V={id:0,pid:-1,title:"\u6839\u8282\u70B9",type:0,children:u};D.push(V)}catch{}})(),{handleNodeClick:d=>{a.data.pid=d.id},list:D,formData:a,handleSubmit:I}}}),H=r("\u76EE\u5F55"),O=r("\u83DC\u5355"),q=r("\u5916\u94FE"),z=r("\u89C4\u5219"),J=r("\u662F"),K=r("\u5426"),P=r("\u662F"),Q=r("\u5426"),W=_("br",null,null,-1),X={class:"dialog-footer"},Y=r("\u53D6\u6D88"),Z=r("\u63D0\u4EA4");function x(e,a,y,D,k,C){const d=B,f=U,u=v,s=w,V=N,n=M,b=c,E=S,g=$;return m(),i(g,{modelValue:e.formData.visible,"onUpdate:modelValue":a[12]||(a[12]=o=>e.formData.visible=o),title:e.formData.title,width:"650px",draggable:"","destroy-on-close":!0,"close-on-click-modal":!1},{footer:t(()=>[_("span",X,[l(E,{onClick:a[10]||(a[10]=o=>e.formData.visible=!1)},{default:t(()=>[Y]),_:1}),l(E,{type:"primary",onClick:a[11]||(a[11]=o=>e.handleSubmit(e.formData,"menu"))},{default:t(()=>[Z]),_:1})])]),default:t(()=>[l(b,{model:e.formData.dialogData,"label-width":"80px",inline:""},{default:t(()=>[l(u,{label:"\u83DC\u5355\u7C7B\u578B",prop:"type"},{default:t(()=>[l(f,{modelValue:e.formData.data.type,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formData.data.type=o)},{default:t(()=>[l(d,{label:0},{default:t(()=>[H]),_:1}),l(d,{label:1},{default:t(()=>[O]),_:1}),l(d,{label:2},{default:t(()=>[q]),_:1}),l(d,{label:3},{default:t(()=>[z]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.formData.data.type!=3?(m(),i(u,{key:0,label:"\u83DC\u5355\u9690\u85CF"},{default:t(()=>[l(f,{modelValue:e.formData.data.hide,"onUpdate:modelValue":a[1]||(a[1]=o=>e.formData.data.hide=o)},{default:t(()=>[l(d,{label:!0},{default:t(()=>[J]),_:1}),l(d,{label:!1},{default:t(()=>[K]),_:1})]),_:1},8,["modelValue"])]),_:1})):p("",!0),l(u,{label:"\u540D\u79F0",prop:"title"},{default:t(()=>[l(s,{modelValue:e.formData.data.title,"onUpdate:modelValue":a[2]||(a[2]=o=>e.formData.data.title=o)},null,8,["modelValue"])]),_:1}),e.formData.data.type!=3?(m(),i(u,{key:1,label:"\u56FE\u6807",prop:"icon"},{default:t(()=>[l(s,{modelValue:e.formData.data.icon,"onUpdate:modelValue":a[3]||(a[3]=o=>e.formData.data.icon=o)},null,8,["modelValue"])]),_:1})):p("",!0),e.formData.data.type==3?(m(),i(u,{key:2,label:"\u6743\u9650\u89C4\u5219",prop:"action"},{default:t(()=>[l(s,{modelValue:e.formData.data.action,"onUpdate:modelValue":a[4]||(a[4]=o=>e.formData.data.action=o)},null,8,["modelValue"])]),_:1})):p("",!0),e.formData.data.type!=3?(m(),i(u,{key:3,label:"\u8DEF\u7531\u5730\u5740",prop:"url"},{default:t(()=>[l(s,{modelValue:e.formData.data.url,"onUpdate:modelValue":a[5]||(a[5]=o=>e.formData.data.url=o)},null,8,["modelValue"])]),_:1})):p("",!0),e.formData.data.type==1?(m(),i(u,{key:4,label:"\u662F\u5426\u7F13\u5B58"},{default:t(()=>[l(f,{modelValue:e.formData.data.cache,"onUpdate:modelValue":a[6]||(a[6]=o=>e.formData.data.cache=o)},{default:t(()=>[l(d,{label:!0},{default:t(()=>[P]),_:1}),l(d,{label:!1},{default:t(()=>[Q]),_:1})]),_:1},8,["modelValue"])]),_:1})):p("",!0),e.formData.data.type==1?(m(),i(u,{key:5,label:"\u7EC4\u4EF6\u540D\u79F0",prop:"name"},{default:t(()=>[l(s,{modelValue:e.formData.data.name,"onUpdate:modelValue":a[7]||(a[7]=o=>e.formData.data.name=o),placeholder:"\u7EC4\u4EF6\u5185\u7684name"},null,8,["modelValue"])]),_:1})):p("",!0),e.formData.data.type==1?(m(),i(u,{key:6,label:"\u7EC4\u4EF6\u8DEF\u5F84",prop:"path"},{default:t(()=>[l(s,{modelValue:e.formData.data.path,"onUpdate:modelValue":a[8]||(a[8]=o=>e.formData.data.path=o),placeholder:"\u7EC4\u4EF6\u7684\u6587\u4EF6\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})):p("",!0),l(u,{label:"\u6392\u5E8F"},{default:t(()=>[l(V,{modelValue:e.formData.data.sort,"onUpdate:modelValue":a[9]||(a[9]=o=>e.formData.data.sort=o),min:1,label:"\u63CF\u8FF0\u6587\u5B57"},null,8,["modelValue"])]),_:1}),W,e.list.length?(m(),i(u,{key:7,label:"\u6240\u5C5E\u76EE\u5F55"},{default:t(()=>[l(n,{"node-key":"id","current-node-key":e.formData.data.pid,data:e.list,"highlight-current":"",props:{children:"children",label:"title"},accordion:"",onNodeClick:e.handleNodeClick},null,8,["current-node-key","data","onNodeClick"])]),_:1})):p("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}var ie=R(G,[["render",x]]);export{ie as default};
//# sourceMappingURL=menuDialog.8fb2fd25.js.map
