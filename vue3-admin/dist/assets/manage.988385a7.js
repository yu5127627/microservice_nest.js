import{d as E,a as h,r as _,a9 as w,aa as B,ab as V,ac as z,ad as $,f as L,ae as I,o as f,b as P,m,e as a,w as l,C as N,k as y,l as U,H as r,a8 as A,a7 as T,v as M}from"./vendor.628a587a.js";/* empty css                   *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    *//* empty css                     */import{_ as S,c as j}from"./index.6b964819.js";import{e as H,o as R,h as G}from"./base.cbd3d2de.js";import J from"./manageDialog.baf5bd0d.js";/* empty css                  */const K=E({name:"Manage",components:{ManageDialog:J},setup(){let e=h(),t=_({visible:!1,title:"",data:{}}),n=_({data:[],load:!1,query:{page:1,limit:15,total:0,nickname:"",username:""}});const u=async()=>{try{n.load=!0;const{code:d,result:p}=await j(n.query);n.data=p.rows,n.query.total=p.total,n.load=!1}catch{n.load=!1}};return u(),H.on("list-reload",d=>{d==="role"&&u()}),{list:n,form:e,dialogData:t,getList:u,openDialog:R,handleDelete:G}}}),O={class:"page-main"},Q={class:"operate-box"},W={class:"operate-btns"},X=r("\u65B0\u589E"),Y={class:"filter-box"},Z=r("\u641C\u7D22"),x=r("\u91CD\u7F6E"),ee=r("\u7F16\u8F91"),ae=r("\u5220\u9664"),te={class:"pagination"};function oe(e,t,n,u,d,p){const s=A,c=T,g=w,C=B,i=V,b=M,v=z,k=$,D=L("manage-dialog"),F=I;return f(),P("div",O,[m("div",Q,[m("div",W,[a(s,{type:"primary",onClick:t[0]||(t[0]=o=>e.openDialog(e.dialogData,"\u65B0\u589E\u7BA1\u7406\u5458"))},{default:l(()=>[X]),_:1})]),a(s,{type:"primary",icon:"Refresh",onClick:t[1]||(t[1]=()=>{e.form.resetFields(),e.getList()})})]),m("div",Y,[a(C,{ref:"form",class:"filter-form",model:e.list.query,"label-width":"80px",inline:""},{default:l(()=>[a(g,{label:"\u6635\u79F0",prop:"nickname"},{default:l(()=>[a(c,{modelValue:e.list.query.nickname,"onUpdate:modelValue":t[2]||(t[2]=o=>e.list.query.nickname=o)},null,8,["modelValue"])]),_:1}),a(g,{label:"\u7528\u6237\u540D",prop:"username"},{default:l(()=>[a(c,{modelValue:e.list.query.username,"onUpdate:modelValue":t[3]||(t[3]=o=>e.list.query.username=o)},null,8,["modelValue"])]),_:1}),a(g,null,{default:l(()=>[a(s,{type:"primary",onClick:e.getList},{default:l(()=>[Z]),_:1},8,["onClick"]),a(s,{type:"primary",onClick:t[4]||(t[4]=()=>{e.form.resetFields()})},{default:l(()=>[x]),_:1})]),_:1})]),_:1},8,["model"])]),N((f(),y(v,{data:e.list.data,border:"",size:"small"},{default:l(()=>[a(i,{prop:"id",label:"ID",width:"60",align:"center"}),a(i,{prop:"avatar",label:"\u5934\u50CF",align:"center"},{default:l(o=>[a(b,{src:o.row.avatar,style:{width:"40px"}},null,8,["src"])]),_:1}),a(i,{prop:"username",label:"\u7528\u6237\u540D",align:"center"}),a(i,{prop:"nickname",label:"\u6635\u79F0",align:"center"}),a(i,{prop:"roleId",label:"\u89D2\u8272",align:"center"}),a(i,{prop:"ctime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),a(i,{label:"\u64CD\u4F5C",align:"center",width:"360px"},{default:l(o=>[a(s,{onClick:q=>e.openDialog(e.dialogData,"\u7F16\u8F91\u7BA1\u7406\u5458",o.row)},{default:l(()=>[ee]),_:2},1032,["onClick"]),a(s,{type:"danger",onClick:q=>e.handleDelete([o.row.id],"manage")},{default:l(()=>[ae]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[F,e.list.load]]),m("div",te,[a(k,{currentPage:e.list.query.page,"onUpdate:currentPage":t[5]||(t[5]=o=>e.list.query.page=o),"page-size":e.list.query.limit,"onUpdate:page-size":t[6]||(t[6]=o=>e.list.query.limit=o),"page-sizes":[15,20,50,100],small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.list.query.total,onSizeChange:e.getList,onCurrentChange:e.getList},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),e.dialogData.visible?(f(),y(D,{key:0,"dialog-data":e.dialogData},null,8,["dialog-data"])):U("",!0)])}var _e=S(K,[["render",oe]]);export{_e as default};
//# sourceMappingURL=manage.988385a7.js.map
