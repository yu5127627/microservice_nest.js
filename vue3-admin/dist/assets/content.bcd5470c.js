import{d as D,a as q,r as _,a7 as E,a8 as B,a9 as V,aa as w,ab as z,f as L,ac as $,o as g,b as A,m as p,e as t,w as o,B as P,k as b,l as N,G as u,a6 as S,a5 as T}from"./vendor.42ea62c2.js";/* empty css                   *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    */import{e as U,o as I,h as j}from"./base.dd3c68c1.js";import{r as G,_ as O,b as R}from"./index.39bf48ea.js";import H from"./contentDialog.24341f98.js";/* empty css                  */import"./lodash.df3e3838.js";/* empty css                       *//* empty css                 */const J=e=>G({method:"get",url:"/api/v1/blog/content",data:e}),K=D({name:"Content",components:{ContentDialog:H},setup(){let e=q();const a=R();let c=_({visible:!1,title:"",data:{}}),i=_({data:[],load:!1,query:{page:1,limit:15,total:0}});const d=async()=>{try{i.load=!0;const{code:l,result:s}=await J(i.query);i.data=s.rows,i.query.total=s.total,i.load=!1}catch{i.load=!1}};d();const f=()=>{a.handleOpen({title:"\u6587\u7AE0",path:"/blog/content/add",affix:!0,active:!0})};return U.on("list-reload",l=>{l==="blog/content"&&d()}),{list:i,form:e,dialogData:c,tagStore:a,handleAdd:f,getList:d,openDialog:I,handleDelete:j}}}),M={class:"page-main"},Q={class:"operate-box"},W={class:"operate-btns"},X=u("\u65B0\u589E"),Y={class:"filter-box"},Z=u("\u641C\u7D22"),x=u("\u91CD\u7F6E"),ee=u("\u7F16\u8F91"),te=u("\u5220\u9664"),ae={class:"pagination"};function oe(e,a,c,i,d,f){const l=S,s=T,m=E,C=B,r=V,y=w,k=z,v=L("content-dialog"),h=$;return g(),A("div",M,[p("div",Q,[p("div",W,[t(l,{type:"primary",onClick:e.handleAdd},{default:o(()=>[X]),_:1},8,["onClick"])]),t(l,{type:"primary",icon:"Refresh",onClick:a[0]||(a[0]=()=>{e.form.resetFields(),e.getList()})})]),p("div",Y,[t(C,{ref:"form",class:"filter-form",model:e.list.query,"label-width":"80px",inline:""},{default:o(()=>[t(m,{label:"\u6635\u79F0",prop:"nickname"},{default:o(()=>[t(s,{modelValue:e.list.query.nickname,"onUpdate:modelValue":a[1]||(a[1]=n=>e.list.query.nickname=n)},null,8,["modelValue"])]),_:1}),t(m,{label:"\u7528\u6237\u540D",prop:"username"},{default:o(()=>[t(s,{modelValue:e.list.query.username,"onUpdate:modelValue":a[2]||(a[2]=n=>e.list.query.username=n)},null,8,["modelValue"])]),_:1}),t(m,null,{default:o(()=>[t(l,{type:"primary",onClick:e.getList},{default:o(()=>[Z]),_:1},8,["onClick"]),t(l,{type:"primary",onClick:a[3]||(a[3]=()=>{e.form.resetFields()})},{default:o(()=>[x]),_:1})]),_:1})]),_:1},8,["model"])]),P((g(),b(y,{data:e.list.data,border:"",size:"small"},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"60",align:"center"}),t(r,{prop:"title",label:"\u6807\u9898",align:"center"}),t(r,{prop:"status",label:"\u72B6\u6001",align:"center"}),t(r,{prop:"recom",label:"\u63A8\u8350\u6307\u6570",align:"center"}),t(r,{prop:"scan",label:"\u6D4F\u89C8\u91CF",align:"center"}),t(r,{prop:"top",label:"\u7F6E\u9876",align:"center"}),t(r,{prop:"ctime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),t(r,{label:"\u64CD\u4F5C",align:"center"},{default:o(n=>[t(l,{onClick:F=>e.openDialog(e.dialogData,"\u7F16\u8F91\u5185\u5BB9",n.row)},{default:o(()=>[ee]),_:2},1032,["onClick"]),t(l,{type:"danger",onClick:F=>e.handleDelete([n.row.id],"blog/content")},{default:o(()=>[te]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[h,e.list.load]]),p("div",ae,[t(k,{currentPage:e.list.query.page,"onUpdate:currentPage":a[4]||(a[4]=n=>e.list.query.page=n),"page-size":e.list.query.limit,"onUpdate:page-size":a[5]||(a[5]=n=>e.list.query.limit=n),"page-sizes":[15,20,50,100],small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.list.query.total,onSizeChange:e.getList,onCurrentChange:e.getList},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),e.dialogData.visible?(g(),b(v,{key:0,"dialog-data":e.dialogData},null,8,["dialog-data"])):N("",!0)])}var Ce=O(K,[["render",oe]]);export{Ce as default};
//# sourceMappingURL=content.bcd5470c.js.map
