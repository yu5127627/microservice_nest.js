{"version":3,"file":"categoryDialog.7c8240c3.js","sources":["../../src/views/cms/category/components/categoryDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    v-model=\"formData.visible\"\n    :title=\"formData.title\"\n    width=\"600px\"\n    draggable\n    destroy-on-close\n    :close-on-click-modal=\"false\"\n  >\n    <el-form :model=\"formData.dialogData\" label-width=\"80px\">\n      <el-form-item v-if=\"parent.name\" label=\"父分类\">\n        <el-input v-model=\"parent.name\" autocomplete=\"off\" :disabled=\"true\" />\n      </el-form-item>\n      <el-form-item label=\"名称\">\n        <el-input v-model=\"formData.data.name\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"图像\">\n        <el-input v-model=\"formData.data.simg\" autocomplete=\"off\" />\n      </el-form-item>\n      <el-form-item label=\"分组\">\n        <el-input\n          v-model=\"formData.data.group\"\n          autocomplete=\"off\"\n          :disabled=\"Boolean($props.group?.length)\"\n        />\n      </el-form-item>\n      <el-form-item label=\"描述\">\n        <el-input v-model=\"formData.data.description\" autocomplete=\"off\" type=\"textarea\" />\n      </el-form-item>\n      <el-form-item label=\"排序\">\n        <el-input-number v-model=\"formData.data.sort\" autocomplete=\"off\" />\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"formData.visible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit(formData, MODULE)\">提交</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script lang='ts'>\nimport { defineComponent, reactive, ref } from 'vue';\nimport { handleSubmit } from '@/api/base';\nimport { cloneDeep } from 'lodash';\nimport { requestList } from '@/api/cms/category';\nconst defaultData = {\n  name: '',\n  group: '',\n  simg: '',\n  sort: 50,\n  description: '',\n  pid: 0\n};\n\nexport default defineComponent({\n  name: 'CategoryDialog',\n  props: {\n    group: {\n      type: String,\n      default: () => {\n        return '';\n      }\n    },\n    module: {\n      type: String,\n      default: () => {\n        return '';\n      }\n    },\n    parentCate: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    dialogData: {\n      type: Object,\n      default: () => {\n        return {\n          visible: false,\n          title: '',\n          data: {}\n        };\n      }\n    }\n  },\n  setup(props) {\n    let list = reactive<Array<any>>([]);\n    const MODULE = ref(props.module);\n    let formData = reactive(props.dialogData);\n    let parent = reactive(props.parentCate);\n    if (props.dialogData.type === 'create') {\n      if (props.parentCate.id) {\n        formData.data = cloneDeep({ ...defaultData, group: props.group, pid: props.parentCate.id });\n      } else {\n        formData.data = cloneDeep({ ...defaultData, group: props.group });\n      }\n    }\n    const getList = async () => {\n      try {\n        const { code, result } = await requestList({ attrs: 'id,name,pid,group' }, true);\n        list.push(...result);\n      } catch (error) {\n      }\n    };\n    getList();\n\n    return {\n      parent,\n      MODULE,\n      formData,\n      handleSubmit,\n    };\n  }\n});\n</script>\n\n<style lang='less' scoped>\n</style>\n"],"names":["cloneDeep","_withCtx","_createElementVNode","_createVNode","_openBlock","_createBlock"],"mappings":"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"}