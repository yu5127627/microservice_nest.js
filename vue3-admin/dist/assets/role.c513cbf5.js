import{d as F,a as k,r as _,a7 as E,a8 as h,a9 as B,aa as w,ab as V,f as z,ac as $,o as c,b as L,m as p,e as l,w as t,B as P,k as U,G as r,a5 as I,a4 as N}from"./vendor.9e830f57.js";/* empty css                        *//* empty css                  */import{e as R,o as T,h as A}from"./base.fabd8ffb.js";import{r as S,_ as j}from"./index.7c0840fc.js";import G from"./roleDialog.e078b6ae.js";import"./index.8d87168f.js";/* empty css                  */const H=e=>S({method:"get",url:"/api/v1/role",data:e}),J=F({name:"Role",components:{roleDialog:G},setup(){let e=k(),o=_({visible:!1,title:"",data:{}}),n=_({data:[],load:!1,query:{page:1,limit:15,total:0,name:"",level:""}});const u=async()=>{try{n.load=!0;const{code:d,result:m}=await H(n.query);n.data=m.rows,n.query.total=m.total,n.load=!1}catch{n.load=!1}};return u(),R.on("list-reload",d=>{d==="role"&&u()}),{list:n,form:e,dialogData:o,getList:u,openDialog:T,handleDelete:A}}}),K={class:"page-main"},M={class:"operate-box"},O={class:"operate-btns"},Q=r("\u65B0\u589E"),W={class:"filter-box"},X=r("\u641C\u7D22"),Y=r("\u91CD\u7F6E"),Z=r("\u7F16\u8F91"),x=r("\u5220\u9664"),ee={class:"pagination"};function le(e,o,n,u,d,m){const i=I,f=N,g=E,y=h,s=B,C=w,v=V,b=z("role-dialog"),D=$;return c(),L("div",K,[p("div",M,[p("div",O,[l(i,{type:"primary",onClick:o[0]||(o[0]=a=>e.openDialog(e.dialogData,"\u65B0\u589E\u89D2\u8272"))},{default:t(()=>[Q]),_:1})]),l(i,{type:"primary",icon:"Refresh",onClick:o[1]||(o[1]=()=>{e.form.resetFields(),e.getList()})})]),p("div",W,[l(y,{ref:"form",class:"filter-form",model:e.list.query,"label-width":"80px",inline:""},{default:t(()=>[l(g,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[l(f,{modelValue:e.list.query.name,"onUpdate:modelValue":o[2]||(o[2]=a=>e.list.query.name=a)},null,8,["modelValue"])]),_:1}),l(g,{label:"\u7EA7\u522B",prop:"level"},{default:t(()=>[l(f,{modelValue:e.list.query.level,"onUpdate:modelValue":o[3]||(o[3]=a=>e.list.query.level=a)},null,8,["modelValue"])]),_:1}),l(g,null,{default:t(()=>[l(i,{type:"primary",onClick:e.getList},{default:t(()=>[X]),_:1},8,["onClick"]),l(i,{type:"primary",onClick:o[4]||(o[4]=()=>{e.form.resetFields()})},{default:t(()=>[Y]),_:1})]),_:1})]),_:1},8,["model"])]),P((c(),U(C,{data:e.list.data,border:"",size:"small"},{default:t(()=>[l(s,{prop:"id",label:"ID",width:"60",align:"center"}),l(s,{prop:"name",label:"\u540D\u79F0",align:"center"}),l(s,{prop:"description",label:"\u63CF\u8FF0",align:"center"}),l(s,{prop:"level",label:"\u7EA7\u522B",align:"center"}),l(s,{label:"\u64CD\u4F5C",align:"center"},{default:t(a=>[l(i,{onClick:q=>e.openDialog(e.dialogData,"\u7F16\u8F91\u89D2\u8272",a.row)},{default:t(()=>[Z]),_:2},1032,["onClick"]),l(i,{type:"danger",onClick:q=>e.handleDelete([a.row.id],"role")},{default:t(()=>[x]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[D,e.list.load]]),p("div",ee,[l(v,{currentPage:e.list.query.page,"onUpdate:currentPage":o[5]||(o[5]=a=>e.list.query.page=a),"page-size":e.list.query.limit,"onUpdate:page-size":o[6]||(o[6]=a=>e.list.query.limit=a),"page-sizes":[15,20,50,100],small:"",layout:"total, sizes, prev, pager, next, jumper",total:e.list.query.total,onSizeChange:e.getList,onCurrentChange:e.getList},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),l(b,{"dialog-data":e.dialogData},null,8,["dialog-data"])])}var de=j(J,[["render",le]]);export{de as default};
//# sourceMappingURL=role.c513cbf5.js.map
