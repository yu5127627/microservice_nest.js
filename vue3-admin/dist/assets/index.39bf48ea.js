var ye=Object.defineProperty,we=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var x=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))$e.call(t,n)&&x(e,n,t[n]);if(Z)for(var n of Z(t))Ce.call(t,n)&&x(e,n,t[n]);return e},te=(e,t)=>we(e,be(t));var j=(e,t,n)=>(x(e,typeof t!="symbol"?t+"":t,n),n);import{c as ke,d as C,r as $,a as R,E as Ie,b as E,e as f,w as _,z as Se,f as L,o as p,g as F,h as W,i as Ae,j as De,k as v,F as M,l as S,m as y,n as B,t as D,p as P,s as Re,u as G,q as ae,v as Le,x as Oe,y as re,A as Me,B as Ve,C as Te,D as Pe,G as q,H as X,I as qe,J as je,K as Be,L as Fe,M as Ne,N as ze,O as Ue,P as xe,Q as Xe,R as Ye,S as He,T as We,U as Ge,V as Je,W as Ke,X as Qe,Y as Ze,Z as et,_ as ne,$ as tt,a0 as oe,a1 as A,a2 as nt}from"./vendor.42ea62c2.js";const ot=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};ot();const J=ke();function st(e){e.use(J)}var k=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const at=C({setup(){let e=$({autoInsertSpace:!0});return{locale:R(Se),btnConfig:e}}}),rt={class:"app-view"};function it(e,t,n,o,s,l){const a=L("router-view"),i=Ie;return p(),E("div",rt,[f(i,{button:e.btnConfig,locale:e.locale},{default:_(()=>[f(a)]),_:1},8,["button","locale"])])}var lt=k(at,[["render",it]]);const ct="modulepreload",se={},ut="/",g=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${ut}${o}`,o in se)return;se[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":ct,s||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),s)return new Promise((i,d)=>{a.addEventListener("load",i),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())},ie=F("tagView",()=>{const e=$([{title:"\u4EEA\u8868\u76D8",path:"/dashboard",affix:!0,active:!0}]),t=$([{label:"\u5237   \u65B0",value:"reload"},{label:"\u5173\u95ED\u5176\u4ED6",value:"close-other"},{label:"\u5173\u95ED\u6240\u6709",value:"close-all"}]);return{keepTags:e,downMenu:t,handleClose:i=>{const d=e.findIndex(r=>r.title===i.title);d&&e[d].active&&(e.splice(d,1),e[d-1].active=!0,O.push({path:e[d-1].path}))},handleOpen:i=>{let d=!1;for(const r of e)r.active&&(r.active=!1),r.title===i.title&&(r.active=!0,d=!0);d||e.push(i),O.push({path:i.path})},handleReload:()=>{console.log("handleReload")},handleCloseAll:()=>{console.log("handleCloseAll")},handleCloseOther:()=>{console.log("handleCloseOther")}}}),dt=C({name:"MenuItem",props:{item:{type:Object,required:!0}},setup(e){const t=ie();return{handleMenuItem:o=>{var s;((s=o.meta)==null?void 0:s.type)===2?window.open(o.path):t.handleOpen({path:o.path,title:o.meta.title,affix:o.meta.affix,active:!0})}}}});function pt(e,t,n,o,s,l){var c;const a=W,i=L("menu-item",!0),d=Ae,r=De;return e.item.hidden?S("",!0):(p(),E(M,{key:0},[e.item.alwaysShow&&((c=e.item.children)==null?void 0:c.length)?(p(),v(d,{key:0,index:e.item.path},{title:_(()=>{var u;return[(u=e.item.meta)!=null&&u.icon?(p(),v(a,{key:0},{default:_(()=>{var h;return[y("i",{class:B("iconfont "+((h=e.item.meta)==null?void 0:h.icon))},null,2)]}),_:1})):S("",!0),y("span",null,D(e.item.meta.title),1)]}),default:_(()=>[e.item.children.length?(p(!0),E(M,{key:0},P(e.item.children,u=>(p(),v(i,{key:u.path,item:u},null,8,["item"]))),128)):S("",!0)]),_:1},8,["index"])):!e.item.alwaysShow&&e.item.children?(p(),v(r,{key:1,index:e.item.children[0].path,onClick:t[0]||(t[0]=u=>e.handleMenuItem(e.item.children[0]))},{title:_(()=>{var u,h;return[(u=e.item.children[0].meta)!=null&&u.icon?(p(),v(a,{key:0},{default:_(()=>{var m;return[y("i",{class:B("iconfont "+((m=e.item.children[0].meta)==null?void 0:m.icon))},null,2)]}),_:1})):S("",!0),y("span",null,D((h=e.item.children[0].meta)==null?void 0:h.title),1)]}),_:1},8,["index"])):(p(),v(r,{key:2,index:e.item.path,onClick:t[1]||(t[1]=u=>e.handleMenuItem(e.item))},{title:_(()=>{var u,h;return[(u=e.item.meta)!=null&&u.icon?(p(),v(a,{key:0},{default:_(()=>{var m;return[y("i",{class:B("iconfont "+((m=e.item.meta)==null?void 0:m.icon))},null,2)]}),_:1})):S("",!0),y("span",null,D((h=e.item.meta)==null?void 0:h.title),1)]}),_:1},8,["index"]))],64))}var le=k(dt,[["render",pt]]);const ce=F("setting",()=>{const e=R(!1),t="Nest.js \u5FAE\u670D\u52A1\u540E\u53F0\u7BA1\u7406\u6A21\u677F";return{sidebarLog:R(!1),title:t,isCollapse:e}}),ue=F("menu",()=>{const e=$([]),t=$([]),n=$([...H]),o=(r,c)=>{for(const u of r)i(u,c);return t.push(...r,{id:9999,path:"/:pathMatch(.*)*",component:()=>g(()=>import("./404.95cf27eb.js"),["assets/404.95cf27eb.js","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),meta:{title:"404",type:1,cache:!1,pid:0,affix:!1},hidden:!0,redirect:"/"}),H.push(...t),n.push(...r),t},s={"../../views/404.vue":()=>g(()=>import("./404.95cf27eb.js"),["assets/404.95cf27eb.js","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),"../../views/dashboard/dashboard.vue":()=>g(()=>import("./dashboard.834e12df.js"),["assets/dashboard.834e12df.js","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),"../../views/log/loginLog.vue":()=>g(()=>import("./loginLog.9b90315d.js"),["assets/loginLog.9b90315d.js","assets/el-loading.fb7520d6.css","assets/el-pagination.95890ae0.css","assets/el-select.a5512aee.css","assets/el-scrollbar.3388c378.css","assets/el-table-column.9b165819.css","assets/el-checkbox.860aa1c2.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css"]),"../../views/login/login.vue":()=>g(()=>import("./login.c0d45d7c.js"),["assets/login.c0d45d7c.js","assets/login.d82b543e.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),"../../views/cms/category/category.vue":()=>g(()=>import("./category.ffe46687.js"),["assets/category.ffe46687.js","assets/category.d1266832.css","assets/el-loading.fb7520d6.css","assets/el-tree.e1fda0a7.css","assets/el-checkbox.860aa1c2.css","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/categoryDialog.633b5289.js","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/cms/content/add.vue":()=>g(()=>import("./add.6f9f8d78.js"),["assets/add.6f9f8d78.js","assets/el-radio-group.7eea6836.css","assets/el-radio.2c1e6670.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/cms/content/content.vue":()=>g(()=>import("./content.bcd5470c.js"),["assets/content.bcd5470c.js","assets/el-loading.fb7520d6.css","assets/el-pagination.95890ae0.css","assets/el-select.a5512aee.css","assets/el-scrollbar.3388c378.css","assets/el-table-column.9b165819.css","assets/el-checkbox.860aa1c2.css","assets/el-dialog.af9102a5.css","assets/el-radio-group.7eea6836.css","assets/el-radio.2c1e6670.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/contentDialog.24341f98.js","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/cms/tag/tag.vue":()=>g(()=>import("./tag.88330074.js"),["assets/tag.88330074.js","assets/tag.4288bf88.css","assets/el-loading.fb7520d6.css","assets/el-tree.e1fda0a7.css","assets/el-checkbox.860aa1c2.css","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/tagDialog.0fc559d1.js","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/system/manage/manage.vue":()=>g(()=>import("./manage.8d96e393.js"),["assets/manage.8d96e393.js","assets/el-loading.fb7520d6.css","assets/el-pagination.95890ae0.css","assets/el-select.a5512aee.css","assets/el-scrollbar.3388c378.css","assets/el-table-column.9b165819.css","assets/el-checkbox.860aa1c2.css","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/manageDialog.0b9897dd.js"]),"../../views/system/menu/menu.vue":()=>g(()=>import("./menu.c4784ba9.js"),["assets/menu.c4784ba9.js","assets/el-loading.fb7520d6.css","assets/el-table-column.9b165819.css","assets/el-checkbox.860aa1c2.css","assets/el-scrollbar.3388c378.css","assets/el-dialog.af9102a5.css","assets/el-tree.e1fda0a7.css","assets/el-radio-group.7eea6836.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/menuDialog.e874fe27.js","assets/menuDialog.14df16bc.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/system/role/role.vue":()=>g(()=>import("./role.c34b0899.js"),["assets/role.c34b0899.js","assets/el-loading.fb7520d6.css","assets/el-pagination.95890ae0.css","assets/el-select.a5512aee.css","assets/el-scrollbar.3388c378.css","assets/el-table-column.9b165819.css","assets/el-checkbox.860aa1c2.css","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/roleDialog.187df3cc.js"]),"../../views/cms/category/components/categoryDialog.vue":()=>g(()=>import("./categoryDialog.633b5289.js").then(function(r){return r.c}),["assets/categoryDialog.633b5289.js","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/cms/content/components/contentDialog.vue":()=>g(()=>import("./contentDialog.24341f98.js"),["assets/contentDialog.24341f98.js","assets/el-dialog.af9102a5.css","assets/el-radio-group.7eea6836.css","assets/el-radio.2c1e6670.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/cms/tag/components/tagDialog.vue":()=>g(()=>import("./tagDialog.0fc559d1.js"),["assets/tagDialog.0fc559d1.js","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/system/manage/components/manageDialog.vue":()=>g(()=>import("./manageDialog.0b9897dd.js"),["assets/manageDialog.0b9897dd.js","assets/el-dialog.af9102a5.css","assets/el-select.a5512aee.css","assets/el-scrollbar.3388c378.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css"]),"../../views/system/menu/components/menuDialog.vue":()=>g(()=>import("./menuDialog.e874fe27.js"),["assets/menuDialog.e874fe27.js","assets/menuDialog.14df16bc.css","assets/el-dialog.af9102a5.css","assets/el-tree.e1fda0a7.css","assets/el-checkbox.860aa1c2.css","assets/el-radio-group.7eea6836.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css","assets/lodash.df3e3838.js","assets/lodash.c8a65834.css"]),"../../views/system/role/components/roleDialog.vue":()=>g(()=>import("./roleDialog.187df3cc.js"),["assets/roleDialog.187df3cc.js","assets/el-dialog.af9102a5.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css","assets/base.dd3c68c1.js","assets/base.ae0a3d51.css"])},l=r=>{const{id:c,type:u,icon:h,cache:m,hide:I,title:b,url:V,name:z,action:U,sort:Zt,path:Q,pid:ve,redirect:Ee}=r;return{id:c,path:V,component:Q?s[`../../views${Q}`]:Re(ge),redirect:Ee,hidden:I,alwaysShow:!0,name:z,meta:{type:u,icon:h,cache:m,title:b,pid:ve,affix:!1}}},a=r=>{const c=[],u=[],h=[];r.sort((m,I)=>m.sort-I.sort);for(const m of r){const{id:I,title:b,action:V,sort:z,pid:U}=m;m.type===3?h.push({id:I,pid:U,title:b,action:V,sort:z}):(e.push(m),U===0?c.push(l(m)):u.push(l(m)))}return{topMenu:c,subMenu:u,actions:h}},i=(r,c)=>{var h;const u=[];for(const m of c)((h=m.meta)==null?void 0:h.pid)===r.id&&(m.path=r.path+m.path,u.push(m));u.length&&(r.children=u)},d=(r,c)=>{const u=[];for(const h of c)if(h.pid===r.id){const m=d(h,c);m.length&&(h.children=m),u.push(h)}return u.length&&(r.children=u),u};return{deepMergeMenu:d,filterMenu:a,resolveMenu:l,originAsyncMenu:e,asyncMenu:t,allMenu:n,setAsyncMenu:o}});const _t=C({name:"Sidebar",components:{menuItem:le},setup(){const t=ue().allMenu,n=ce(),o=G();return{menu:t,route:o,settingStore:n}}}),mt=["width"],ft={key:0,class:"sidebar-title"};function ht(e,t,n,o,s,l){const a=ae,i=le,d=Le,r=Oe;return p(),v(r,{width:e.settingStore.isCollapse?"64px":"210px"},{default:_(()=>[e.settingStore.sidebarLog?(p(),E("div",{key:0,width:e.settingStore.isCollapse?"64px":"200px",class:"horizontal-collapse-transition sidebar-header"},[f(a,{class:"sidebar-logo",src:"http://egg.yls.red/static/img/logo.21bf62ca.png"}),e.settingStore.isCollapse?S("",!0):(p(),E("h1",ft,"nestjs \u5FAE\u670D\u52A1"))],8,mt)):S("",!0),f(d,{"default-active":e.route.path,"background-color":"#304156","text-color":"#fff",collapse:e.settingStore.isCollapse,"unique-opened":"","collapse-transition":!1},{default:_(()=>[(p(!0),E(M,null,P(e.menu,c=>(p(),v(i,{key:c.path,item:c},null,8,["item"]))),128))]),_:1},8,["default-active","collapse"])]),_:1},8,["width"])}var de=k(_t,[["render",ht]]);const gt=C({name:"TagView",setup(){const e=G();let t=R(!1),n=$({top:"0px",left:"0px"});const o=ie(),s=o.keepTags,l=o.downMenu;o.handleOpen({path:e.path,title:e.meta.title,affix:!1,active:!0}),re(t,()=>{var r,c;t.value?(r=document.querySelector("#app"))==null||r.addEventListener("click",i):(c=document.querySelector("#app"))==null||c.removeEventListener("click",i)});const a=(r,c)=>{n.left=c.layerX+"px",n.top=c.layerY+"px",t.value=!0},i=()=>{t.value=!1};return{tags:s,tagStore:o,openDownMenu:a,downFlag:t,position:n,downMenu:l,eventClick:r=>{switch(r){case"reload":o.handleReload();break;case"close-other":o.handleCloseOther();break;case"close-all":o.handleCloseAll();break}}}}}),vt={class:"tag-view"},Et=["onClick"];function yt(e,t,n,o,s,l){const a=Me;return p(),E("div",vt,[(p(!0),E(M,null,P(e.tags,i=>(p(),v(a,{key:i.title,closable:!i.affix,class:B(i.active?"el-tag-active":""),onClose:X(d=>e.tagStore.handleClose(i),["stop"]),onClick:X(d=>e.tagStore.handleOpen(i),["left"]),onContextmenu:X(d=>e.openDownMenu(i,d),["prevent","right"])},{default:_(()=>[q(D(i.title),1)]),_:2},1032,["closable","class","onClose","onClick","onContextmenu"]))),128)),Ve(y("div",{class:"down-box",style:Pe(e.position)},[(p(!0),E(M,null,P(e.downMenu,i=>(p(),E("div",{key:i.label,class:"down-item",onClick:d=>e.eventClick(i.value)},D(i.label),9,Et))),128))],4),[[Te,e.downFlag]])])}var pe=k(gt,[["render",yt],["__scopeId","data-v-4b77c506"]]);const _e=F("user",()=>{const e=R(null);let t=$({avatar:"",ctime:"",id:null,nickname:"",roleId:null,username:""});return{userInfo:t,token:e,setToken:l=>{e.value=l,sessionStorage.setItem("token",l)},setUserInfo:l=>{const{avatar:a,ctime:i,id:d,nickname:r,roleId:c,username:u}=l;t={avatar:a,ctime:i,id:d,nickname:r,roleId:c,username:u}},logout:()=>{sessionStorage.removeItem("token"),O.push({path:"/login"})}}}),wt=C({name:"Avatar",components:{caretBottom:qe},setup(){return{userStore:_e()}}}),bt={class:"avatar-container"},$t=q("\u6587\u6863"),Ct=q("\u4E2A\u4EBA\u4E2D\u5FC3"),kt=q("\u9000\u51FA\u767B\u5F55");function It(e,t,n,o,s,l){const a=ae,i=L("caret-bottom"),d=W,r=je,c=Be,u=Fe;return p(),E("div",bt,[f(u,{trigger:"click",size:"small"},{dropdown:_(()=>[f(c,null,{default:_(()=>[f(r,null,{default:_(()=>[$t]),_:1}),f(r,null,{default:_(()=>[Ct]),_:1}),f(r,{onClick:e.userStore.logout},{default:_(()=>[kt]),_:1},8,["onClick"])]),_:1})]),default:_(()=>[f(a,{src:"http://egg.yls.red/upload/avatar.gif?imageView2/1/w/80/h/80",class:"user-avatar"}),f(d,null,{default:_(()=>[f(i)]),_:1})]),_:1})])}var me=k(wt,[["render",It]]);const St=C({name:"ActionBar",setup(){let e=R(!1);return{openSetting:()=>{e.value=!0},drawerFlag:e}}}),fe=e=>(ze("data-v-49647ed3"),e=e(),Ue(),e),At={class:"action-bar"},Dt={class:"action-list"},Rt=fe(()=>y("i",{class:"iconfont icon-quanping_o"},null,-1)),Lt=fe(()=>y("span",null,"Hi, there!",-1));function Ot(e,t,n,o,s,l){const a=Ne;return p(),E("div",At,[y("div",Dt,[y("i",{class:"iconfont icon-quanjushezhi_o",onClick:t[0]||(t[0]=(...i)=>e.openSetting&&e.openSetting(...i))}),Rt]),f(a,{modelValue:e.drawerFlag,"onUpdate:modelValue":t[1]||(t[1]=i=>e.drawerFlag=i),title:"I am the title",size:"24%"},{default:_(()=>[Lt]),_:1},8,["modelValue"])])}var he=k(St,[["render",Ot],["__scopeId","data-v-49647ed3"]]);const Mt=C({name:"Header",components:{expand:xe,fold:Xe,avatar:me,actionBar:he,tagView:pe},setup(){const e=G(),t=ce();let n=R([]);const o=()=>{t.isCollapse=!t.isCollapse};re(e,(l,a)=>{s()});const s=()=>{let l=e.matched.filter(a=>a.meta&&a.meta.title);n.value=[{path:"/dashboard",meta:{title:"\u4EEA\u8868\u76D8"}},...l]};return s(),{settingStore:t,breadcrumbList:n,handleCollapseChange:o}}}),Vt={class:"header-action"},Tt={class:"icon-box"},Pt={class:"breadcrumb"},qt={key:0},jt=["href"];function Bt(e,t,n,o,s,l){const a=L("expand"),i=L("fold"),d=W,r=Ye,c=He,u=he,h=me,m=pe,I=We;return p(),v(I,null,{default:_(()=>[y("div",Vt,[y("div",Tt,[f(d,{size:24,color:"#999",onClick:e.handleCollapseChange},{default:_(()=>[e.settingStore.isCollapse?(p(),v(a,{key:0})):(p(),v(i,{key:1}))]),_:1},8,["onClick"])]),y("div",Pt,[f(c,{separator:"/"},{default:_(()=>[(p(!0),E(M,null,P(e.breadcrumbList,(b,V)=>(p(),v(r,{key:b.path},{default:_(()=>[V%2!==0||e.$route.path===b.path?(p(),E("span",qt,D(b.meta.title),1)):(p(),E("a",{key:1,href:b.path},D(b.meta.title),9,jt))]),_:2},1024))),128))]),_:1})]),f(u),f(h)]),f(m)]),_:1})}var Ft=k(Mt,[["render",Bt]]);const Nt=C({name:"Layout",components:{sidebar:de,uheader:Ft}}),zt=q("Footer");function Ut(e,t,n,o,s,l){const a=de,i=L("uheader"),d=L("router-view"),r=Ge,c=Je,u=Ke;return p(),v(u,{class:"app-container"},{default:_(()=>[f(a),f(u,null,{default:_(()=>[f(i),f(r,null,{default:_(()=>[f(d)]),_:1}),f(c,null,{default:_(()=>[zt]),_:1})]),_:1})]),_:1})}var ge=k(Nt,[["render",Ut]]);const H=[{path:"/login",component:()=>g(()=>import("./login.c0d45d7c.js"),["assets/login.c0d45d7c.js","assets/login.d82b543e.css","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),hidden:!0},{path:"/404",component:()=>g(()=>import("./404.95cf27eb.js"),["assets/404.95cf27eb.js","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),hidden:!0},{path:"/",component:ge,redirect:"/dashboard",meta:{title:"\u4EEA\u8868\u76D8",icon:"icon-configure",affix:!0},alwaysShow:!0,children:[{path:"/dashboard",name:"Dashboard",component:()=>g(()=>import("./dashboard.834e12df.js"),["assets/dashboard.834e12df.js","assets/vendor.42ea62c2.js","assets/vendor.232fa8b1.css"]),meta:{title:"\u4EEA\u8868\u76D8",icon:"icon-configure",affix:!0}}]}],O=Qe({history:Ze(),routes:H});const xt=()=>({VITE_APP_TITLE:"\u751F\u4EA7\u73AF\u5883",VITE_BASE_URL:"http://micro.ukode.cn:8001/",VITE_SOME_KEY:"123",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}),Xt=(e,t,n,o)=>et({message:e,showClose:!0,type:t||"success",duration:n||2e3,icon:o}),{VITE_PROXY_DOMAIN:nn,VITE_PROXY_DOMAIN_REAL:Yt}=xt(),Ht={baseURL:Yt,timeout:1e4,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},paramsSerializer:e=>oe.stringify(e,{indices:!1}),transformRequest:[(e,t)=>{switch(t["Content-Type"].toLowerCase()){case"application/x-www-form-urlencoded":return oe.stringify(e);case"multipart/form-data;charset=utf-8":return e;default:return JSON.stringify(e)}}]},w=class{constructor(){this.httpInterceptorsRequest(),this.httpInterceptorsResponse()}httpInterceptorsRequest(){w.axiosInstance.interceptors.request.use(t=>{const n=t;if(typeof t.beforeRequestCallback=="function")return t.beforeRequestCallback(n),n;if(w.initConfig.beforeRequestCallback)return w.initConfig.beforeRequestCallback(n),n;const o=sessionStorage.getItem("token");return o&&(t.headers.Authorization="Bearer "+o),n},t=>Promise.reject(t))}httpInterceptorsResponse(){w.axiosInstance.interceptors.response.use(n=>{const o=n.config;return typeof o.beforeResponseCallback=="function"?(o.beforeResponseCallback(n),n.data):(w.initConfig.beforeResponseCallback&&w.initConfig.beforeResponseCallback(n),n.data)},n=>{var s;const o=n;return o.isCancelRequest=ne.isCancel(o),Promise.reject((s=o.response)==null?void 0:s.data)})}request({method:t="GET",url:n,data:o={},cache:s=!1,headers:l={}}){let a,i={};if(s){if(a=tt(o?t+n+JSON.stringify(o):t+n),w.caches[a])return w.caches[a];w.caches[a]=null}return t.toLocaleUpperCase()==="GET"&&(i=o,o={}),new Promise((d,r)=>{w.axiosInstance.request({method:t,url:n,params:i,data:o,headers:l}).then(c=>{s&&(w.caches[a]=c),d(c)}).catch(c=>{switch(c.code){case 403:Xt(c.message,"error");break}r(c)})})}};let T=w;j(T,"caches",{}),j(T,"initConfig",{}),j(T,"axiosInstance",ne.create(Ht));const Wt=new T,N=Wt.request,Gt=(e,t)=>N({method:"get",url:"/api/v1/menu/list",data:e,cache:t});A.configure({easing:"ease",speed:500,showSpinner:!1,trickleSpeed:200,minimum:.3});const on=e=>N({method:"POST",url:"/api/v1/auth/login",data:e}),Jt=()=>N({method:"get",url:"/api/v1/auth/detail"}),sn=e=>N({method:"get",url:"/api/v1/manage",data:e}),Y=ue(J),Kt=_e(J),Qt=["/login"];O.beforeEach(async(e,t,n)=>{if(A.start(),sessionStorage.getItem("token")){if(e.path==="/login")return e.query.to?n(`${e.query.to}`):n("/");if(Y.asyncMenu.length>0)return n();try{const[l,a]=await Promise.all([Jt(),Gt({attrs:"all"})]);if(l.code===200&&a.code===200){Kt.$state.userInfo=l.result;const{topMenu:i,subMenu:d,actions:r}=Y.filterMenu(a.result),c=Y.setAsyncMenu(i,d);for(const u of c)O.addRoute(u);A.done(),n(te(ee({},e),{replace:!0}))}}catch(l){console.log(l),A.done(),n(`/login?to=${e.path}`)}}else{if(Qt.includes(e.path)){A.done(),n();return}A.done(),n(`/login?to=${e.path}`)}});O.afterEach((e,t)=>{A.done()});const K=nt(lt);st(K);K.use(O);K.mount("#app");export{k as _,_e as a,ie as b,sn as c,ue as d,Gt as g,on as l,N as r,Xt as t,ce as u};
//# sourceMappingURL=index.39bf48ea.js.map
